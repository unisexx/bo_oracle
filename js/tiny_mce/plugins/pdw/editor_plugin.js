(function(){var g=tinymce.DOM;tinymce.PluginManager.requireLangPack("pdw");tinymce.create("tinymce.plugins.pdw",{init:function(a,h){var e=this,f=[],i=[],b;i=a.settings.pdw_toggle_toolbars.split(",");for(b=0;b<i.length;b++)f[b]=a.getParam("","toolbar"+i[b].replace(" ",""));a.addCommand("mcePDWToggleToolbars",function(){var j=a.controlManager,c,d;for(d=0;d<f.length;d++){try{a.controlManager.get(f[d])}catch(k){continue}c=a.controlManager.get(f[d]).id;if(g.isHidden(c)){j.setActive("pdw_toggle",0);g.show(c);
e._resizeIframe(a,f[d],-26);a.settings.pdw_toggle_on=0}else{j.setActive("pdw_toggle",1);g.hide(c);e._resizeIframe(a,f[d],26);a.settings.pdw_toggle_on=1}}});a.addButton("pdw_toggle",{title:a.getLang("pdw.desc",0),cmd:"mcePDWToggleToolbars",image:h+"/img/toolbars.gif"});a.onPostRender.add(function(){if(a.settings.pdw_toggle_on==1){var j=a.controlManager,c;for(b=0;b<i.length;b++){tbId=a.getParam("","toolbar"+i[b].replace(" ",""));c=a.controlManager.get(tbId).id;j.setActive("pdw_toggle",1);g.hide(c);
e._resizeIframe(a,tbId,26)}}})},_resizeIframe:function(a,h,e){h=a.getContentAreaContainer().firstChild;g.setStyle(h,"height",h.clientHeight+e);a.theme.deltaHeight+=e},getInfo:function(){return{longname:"PDW Toggle Toolbars",author:"Guido Neele",authorurl:"http://www.neele.name/",infourl:"http://www.neele.name/pdw_toggle_toolbars",version:"1.1"}}});tinymce.PluginManager.add("pdw",tinymce.plugins.pdw)})();